<!DOCTYPE HTML>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="../libs/bootstrap/bootstrap.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script src="../src/table_model.js" type="text/javascript"></script>
  <script src="../src/dropTable.js" type="text/javascript"></script>
  <script src="../libs/jquery.csv-0.71.js" type="text/javascript"></script>
  <script type="text/javascript">

    function processRows() {
      $('#spreadsheet').dropTable('process');
    };

    function drag(e)
    {
      e.dataTransfer.setData("Text", "style\tcolumn2\tupc\nrow2a\trow2b\trow2c\nrow3a\trow3b\trow3c");
    }
    
    $(function() {
        var opts = {
          firstRowIsHeader: true,
          fnProcessRow: function(data) {
            console.log("PROCESSING ROW");
            console.log(data);
            return false;
          },
          columnDefinitions: {
            style: true,
            color: false,
            size: false,
            upc: false,
            sku: false,
            description: false
          }
        };
        $('#spreadsheet').dropTable(opts);
    });
  </script>

</head>
<body>
  <br />
  <div class="row">
    <button onclick="processRows()">Process Rows</button>
    <div class="span5 offset1">
      <div id="source" class="well" draggable="true" ondragstart="drag(event)">
        THIS REPRESENTS SOURCE DATA
      </div>
    </div>
    <div class="span5 offset1">
      <div id="spreadsheet" class="well">
        DROP DATA HERE
      </div>
    </div>
  </div>
</body>
</html>
