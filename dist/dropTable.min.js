/*! Drag, Drop & Process data from spreadsheet - v0.1.0 - 2013-04-07
* https://github.com/kstevens715/dropTable
* Copyright (c) 2013 Kyle Stevens; Licensed MIT */
(function(r){var t,e,n=!1,o=[],a={init:function(t){e=r.extend({fnProcessRow:null,fnDropComplete:null,delayProcessing:!1,fieldDelimiter:"	",dataFormat:"Text"},t),this.on("dragover",a.dragOver),this.on("drop",a.drop),this.on("dragenter",a.dragEnter),this.on("dragleave",a.dragLeave)},drop:function(r){var t=r.originalEvent.dataTransfer.getData(e.dataFormat);return o=a.parseData(t),a.drawHtml(),"function"==typeof e.fnDropComplete&&e.fnDropComplete(),!0},dragOver:function(){return n},dragEnter:function(){return!1},dragLeave:function(){return!1},parseData:function(t){return r.csv.toArrays(t,{separator:e.fieldDelimiter})},drawHtml:function(){var r,n,a,i="<table>";for(n=0;o.length>n;n++){for(r=o[n],e.delayProcessing||"function"!=typeof e.fnProcessRow||e.fnProcessRow(r,n+1),i+="<tr>",a=0;r.length>a;a++)i=i+"<td>"+r[a]+"</td>";i+="</tr>"}i+="</table>",t.html(i)}},i={process:function(){var r,t;for(t=0;o.length>t;t++)r=o[t],"function"==typeof e.fnProcessRow&&e.fnProcessRow(r,t+1)}};r.fn.dropTable=function(r){return t=this,i[r]?i[r].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof r&&r||a.init.apply(this,arguments),this}})(jQuery);