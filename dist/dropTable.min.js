/*! Drag, Drop & Process data from spreadsheet - v0.1.0 - 2013-04-06
* https://github.com/kstevens715/dropTable
* Copyright (c) 2013 Kyle Stevens; Licensed MIT */
(function(r){var t,e,n=[],o={init:function(t){e=r.extend({fnProcessRow:null,fnDropComplete:null,delayProcessing:!1,fieldDelimiter:"	",dataFormat:"Text"},t),this.on("dragover",o.dragOver),this.on("drop",o.drop),this.on("dragenter",o.dragEnter),this.on("dragleave",o.dragLeave)},process:function(){for(var r,t=0;n.length>t;t++)r=n[t],"function"==typeof e.fnProcessRow&&e.fnProcessRow(r)},drop:function(t){var a=t.originalEvent.dataTransfer.getData(e.dataFormat);return n=r.csv.toArrays(a,{separator:e.fieldDelimiter}),o.drawHtml(),"function"==typeof e.fnDropComplete&&e.fnDropComplete(),!0},dragOver:function(){return!1},dragEnter:function(){return!1},dragLeave:function(){return!1},drawHtml:function(){for(var r,o="<table>",a=0;n.length>a;a++){r=n[a],e.delayProcessing||"function"!=typeof e.fnProcessRow||e.fnProcessRow(r),o+="<tr>";for(var i=0;r.length>i;i++)o=o+"<td>"+r[i]+"</td>";o+="</tr>"}o+="</table>",t.html(o)}};r.fn.dropTable=function(r){return t=this,o[r]?o[r].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof r&&r||o.init.apply(this,arguments),this}})(jQuery);